var ajax=function(a){function b(){var b=a("#content");b.load("view/home.html")}function c(){var b=a("#content"),c=a("body");c.on("click","#home",function(){b.load("view/home.html",function(){})}),c.on("click","#recipes",function(){b.load("view/recipes.html",function(){websocket.getRecipes()})}),c.on("click","#fridge",function(){b.load("view/fridge.html",function(){websocket.getFridgeItems()})}),c.on("click","#shoppinglist",function(){b.load("view/shoppinglist.html",function(){websocket.getShoppingList()})})}return{init:function(){b(),c()}}}(jQuery),websocket=function(a){function b(){f.getInstance().onmessage=function(a){return a.data}}function c(){f.getInstance().send(JSON.stringify({get:"recipes"})),f.getInstance().onmessage=function(b){var c=a("#select_recipe"),d="",e=JSON.parse(b.data),f=e.recipes;console.log(f);for(var g=0;g<f.length;g++)d+="<option value="+f[g].name+" >"+f[g].name+"</option>";c.append(d)}}function d(){f.getInstance().send(JSON.stringify({get:"fridgeItems"})),f.getInstance().onmessage=function(b){for(var c=a("#fridge_list"),d="",e=JSON.parse(b.data),f=e.fridgeItems,g=0;g<f.length;g++)d+="<li><div class='item_name'>"+f[g].name+"</div><div class='item_percentage'>"+f[g].percentage+"</div><div class='item_size'>"+f[g].size+"</div></li>";c.append(d)}}function e(){var a=["asd","asdasdasd","hurrs"],b=[];a.forEach(function(a){var c={};c.name=a,b.push(c)});var c=JSON.stringify({get:"shoppingList",recipes:b});return f.getInstance().send(c),f.getInstance().onmessage(msg)}var f=function(){function a(){var a=new WebSocket("ws://128.39.82.37:9999/ws");return a}var b;return{getInstance:function(){return b||(b=a()),b}}}();return{init:function(){b()},getRecipes:function(){return c()},getFridgeItems:function(){return d()},getShoppingList:function(){return e()}}}(jQuery),main=function(a){return{init:function(){ajax.init(),websocket.init()}}}(jQuery);jQuery(document).ready(function(){main.init()});